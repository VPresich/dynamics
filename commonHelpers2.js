var C=(s,e,t)=>{if(!e.has(s))throw TypeError("Cannot "+t)};var n=(s,e,t)=>(C(s,e,"read from private field"),t?t.call(s):e.get(s)),a=(s,e,t)=>{if(e.has(s))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(s):e.set(s,t)},c=(s,e,t,r)=>(C(s,e,"write to private field"),r?r.call(s,t):e.set(s,t),t);var p=(s,e,t)=>(C(s,e,"access private method"),t);/* empty css                      */import{i as w}from"./assets/vendor-32231325.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();const M="Muscles",q="https://energyflow.b.goit.study/api/";var g,d,h;class E{constructor(e){a(this,d);a(this,g,"");c(this,g,e)}async objectGetRequest(e){return p(this,d,h).call(this,e)}async objectCreateRequest(e,t){return p(this,d,h).call(this,e,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}async objectDeleteRequest(e,t){return p(this,d,h).call(this,`${e}/${t}`,{method:"DELETE"})}async ojectUpdateRequest(e,t){return p(this,d,h).call(this,`${e}/${t.id}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}}g=new WeakMap,d=new WeakSet,h=async function(e,t={}){try{const r=await fetch(n(this,g)+e,t);if(!r.ok)throw new Error(`HTTP error, status: ${r.status}`);return r.json()}catch(r){console.log(r.message)}};const P=new E(q);async function U(s,e,t){const r={filter:s,page:e,limit:t},i=`filters?${new URLSearchParams(r).toString()}`;try{return await P.objectGetRequest(i)}catch{}}function j(s=[]){return s.reduce((e,{imgUrl:t,name:r,filter:i})=>e+`
      <li class="filter-card" data-filter">
          <img src="${t}" alt="Image of: ${i}"/>
          <div class="filter-label">
          <p class="filter-name">${r}</p>
          <p class="filter-type">${i}</p>            
          </div>
      </li>
      `,"")}const F=(s,e)=>{const t=j(e);s.innerHTML="",s.insertAdjacentHTML("beforeend",t)},H="/dynamics/assets/bi-x-octagon-73f29380.svg";function N(s){w.show({message:s,messageColor:"#fafafb",messageSize:"16px",backgroundColor:"#fc5a5a",position:"topRight",closeOnEscape:!0,close:!0,icon:"Icomoon",iconUrl:`${H}`,iconColor:"#fafafb"})}async function O(s={},e=""){const t=new E(q),r={...s,page:1,limit:12},i=`exercises?${new URLSearchParams(r).toString()}`;console.log(i);try{return await t.objectGetRequest(i)}catch{}}function A(s=[]){return s.reduce((e,{_id:t,bodyPart:r,equipment:i,time:o,target:u,burnedCalories:D,gifUrl:V,name:R,filter:X,popularity:k,rating:v})=>e+`
      <li class="exercise-card" data-id="${t}">          
            <p class="exercise-name">${R}</p>
            <p class="body-part">${r}</p>
            <p class="body-equipment">${i}</p>
            <div class="exercise-param">
                <p class="exercise-burnedCalories">${D}</p>
                <p class="exercise-time">${o}</p>  
                <p class="exercise-target">${u}</p>                  
            </div>
           <p class="exercise-rating">${v}</p>  
           <p class="exercise-popularity">${k}</p>
      </li>
      `,"")}const G=(s,e)=>{const t=A(e);s.innerHTML="",s.insertAdjacentHTML("beforeend",t)};var y,m,l,$,f,L,x;class I{constructor({galleryHandle:e,dotsSelector:t,dotDefaultClass:r,dotActiveClass:i}){a(this,y,0);a(this,m,0);a(this,l,void 0);a(this,$,"");a(this,f,"");a(this,L,void 0);a(this,x,"Muscles");c(this,$,r),c(this,f,i),c(this,L,e),c(this,l,document.querySelector(t))}destroy(){n(this,l).removeEventListener("click",this.onDotsClick.bind(this))}async updateGallery(){try{c(this,m,await n(this,L).call(this,n(this,x),n(this,y)))}catch(e){console.log(e.message)}}createDots(e){n(this,l).innerHTML="",c(this,m,e);let t="";for(let r=0;r<e;r+=1)t+=`
       <span class="pagination-dot" data-ind="${r+1}">${r+1}</span>
      `,n(this,l).innerHTML=t;n(this,l).addEventListener("click",this.onDotsClick.bind(this))}onDotsClick(e){const t=e.target,r=parseInt(t.dataset.ind,10);c(this,y,r),this.updateGallery(),this.updateDisplayDots(e.target)}updateDisplayDots(e){const t=n(this,l).children;for(let r=0;r<t.length;r++)t[r].classList.remove(n(this,f));console.log(e),e.classList.add(n(this,f))}}y=new WeakMap,m=new WeakMap,l=new WeakMap,$=new WeakMap,f=new WeakMap,L=new WeakMap,x=new WeakMap;const B=document.querySelector(".filters-buttons");let b=document.querySelector('button[data-filter="Muscles"]');b.classList.add("filter-button-active");const S=document.querySelector(".exercise-filters-list"),z=document.querySelector(".exercises-gallery");B.addEventListener("click",_);S.addEventListener("click",K);const J=new I({galleryHandle:T,dotsSelector:".pagination-dots",dotDefaultClass:"pagination-dot",dotActiveClass:"active-pagination-dot"});function _(s){if(s.target.tagName!=="BUTTON")return;const e=s.target.dataset.filter;T(e,1),b.classList.remove("filter-button-active"),b=s.target,b.classList.add("filter-button-active")}function T(s=M,e=1,t=12){U(s,e,t).then(r=>{const i=r.results;i.length||console.log("Sorry, there are no data matching your search query. Please, try again!"),F(S,i),J.createDots(r.totalPages)}).catch(r=>{N(`Error fetching images: ${r.message}`)})}function K(s){s.preventDefault(),s.target;const e=s.target.closest("li");if(!e)return;const t={},r=e.querySelector(".filter-name"),i=e.querySelector(".filter-type");if(i&&i){const o=r.textContent.toLowerCase(),u=i.textContent.toLowerCase();if(u==="")return;t[u]=o}O(t).then(o=>{G(z,o.results)}).catch(o=>console.log(o))}T();
//# sourceMappingURL=commonHelpers2.js.map
